"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EnvironmentVariablesService = void 0;
const commons_1 = require("@aws-lambda-powertools/commons");
/**
 * Class EnvironmentVariablesService
 *
 * This class is used to return environment variables that are available in the runtime of
 * the current Lambda invocation.
 * These variables can be a mix of runtime environment variables set by AWS and
 * variables that can be set by the developer additionally.
 *
 * @class
 * @extends {CommonEnvironmentVariablesService}
 * @implements {ConfigServiceInterface}
 * @see https://docs.aws.amazon.com/lambda/latest/dg/configuration-envvars.html#configuration-envvars-runtime
 * @see https://docs.powertools.aws.dev/lambda-typescript/latest/#environment-variables
 */
class EnvironmentVariablesService extends commons_1.EnvironmentVariablesService {
    constructor() {
        super(...arguments);
        // Reserved environment variables
        this.awsRegionVariable = 'AWS_REGION';
        this.currentEnvironmentVariable = 'ENVIRONMENT';
        this.devModeVariable = 'POWERTOOLS_DEV';
        this.functionNameVariable = 'AWS_LAMBDA_FUNCTION_NAME';
        this.functionVersionVariable = 'AWS_LAMBDA_FUNCTION_VERSION';
        this.logEventVariable = 'POWERTOOLS_LOGGER_LOG_EVENT';
        this.logLevelVariable = 'LOG_LEVEL';
        this.memoryLimitInMBVariable = 'AWS_LAMBDA_FUNCTION_MEMORY_SIZE';
        this.sampleRateValueVariable = 'POWERTOOLS_LOGGER_SAMPLE_RATE';
    }
    /**
     * It returns the value of the AWS_REGION environment variable.
     *
     * @returns {string}
     */
    getAwsRegion() {
        return this.get(this.awsRegionVariable);
    }
    /**
     * It returns the value of the ENVIRONMENT environment variable.
     *
     * @returns {string}
     */
    getCurrentEnvironment() {
        return this.get(this.currentEnvironmentVariable);
    }
    /**
     * It returns the value of the AWS_LAMBDA_FUNCTION_MEMORY_SIZE environment variable.
     *
     * @returns {string}
     */
    getFunctionMemory() {
        const value = this.get(this.memoryLimitInMBVariable);
        return Number(value);
    }
    /**
     * It returns the value of the AWS_LAMBDA_FUNCTION_NAME environment variable.
     *
     * @returns {string}
     */
    getFunctionName() {
        return this.get(this.functionNameVariable);
    }
    /**
     * It returns the value of the AWS_LAMBDA_FUNCTION_VERSION environment variable.
     *
     * @returns {string}
     */
    getFunctionVersion() {
        return this.get(this.functionVersionVariable);
    }
    /**
     * It returns the value of the POWERTOOLS_LOGGER_LOG_EVENT environment variable.
     *
     * @returns {boolean}
     */
    getLogEvent() {
        const value = this.get(this.logEventVariable);
        return this.isValueTrue(value);
    }
    /**
     * It returns the value of the LOG_LEVEL environment variable.
     *
     * @returns {string}
     */
    getLogLevel() {
        return this.get(this.logLevelVariable);
    }
    /**
     * It returns the value of the POWERTOOLS_LOGGER_SAMPLE_RATE environment variable.
     *
     * @returns {string|undefined}
     */
    getSampleRateValue() {
        const value = this.get(this.sampleRateValueVariable);
        return value && value.length > 0 ? Number(value) : undefined;
    }
    /**
     * It returns true if the POWERTOOLS_DEV environment variable is set to truthy value.
     *
     * @returns {boolean}
     */
    isDevMode() {
        const value = this.get(this.devModeVariable);
        return this.isValueTrue(value);
    }
}
exports.EnvironmentVariablesService = EnvironmentVariablesService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW52aXJvbm1lbnRWYXJpYWJsZXNTZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbmZpZy9FbnZpcm9ubWVudFZhcmlhYmxlc1NlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsNERBQWtIO0FBRWxIOzs7Ozs7Ozs7Ozs7O0dBYUc7QUFDSCxNQUFNLDJCQUNKLFNBQVEscUNBQWlDO0lBRDNDOztRQUlFLGlDQUFpQztRQUN6QixzQkFBaUIsR0FBRyxZQUFZLENBQUM7UUFDakMsK0JBQTBCLEdBQUcsYUFBYSxDQUFDO1FBQzNDLG9CQUFlLEdBQUcsZ0JBQWdCLENBQUM7UUFDbkMseUJBQW9CLEdBQUcsMEJBQTBCLENBQUM7UUFDbEQsNEJBQXVCLEdBQUcsNkJBQTZCLENBQUM7UUFDeEQscUJBQWdCLEdBQUcsNkJBQTZCLENBQUM7UUFDakQscUJBQWdCLEdBQUcsV0FBVyxDQUFDO1FBQy9CLDRCQUF1QixHQUFHLGlDQUFpQyxDQUFDO1FBQzVELDRCQUF1QixHQUFHLCtCQUErQixDQUFDO0lBMEZwRSxDQUFDO0lBeEZDOzs7O09BSUc7SUFDSSxZQUFZO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLHFCQUFxQjtRQUMxQixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVEOzs7O09BSUc7SUFDSSxpQkFBaUI7UUFDdEIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUVyRCxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLGVBQWU7UUFDcEIsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksa0JBQWtCO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLFdBQVc7UUFDaEIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUU5QyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVEOzs7O09BSUc7SUFDSSxXQUFXO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLGtCQUFrQjtRQUN2QixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBRXJELE9BQU8sS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztJQUMvRCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLFNBQVM7UUFDZCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUU3QyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakMsQ0FBQztDQUNGO0FBRVEsa0VBQTJCIn0=